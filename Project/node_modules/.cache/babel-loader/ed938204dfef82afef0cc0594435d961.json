{"ast":null,"code":"import _slicedToArray from\"C:/Users/Bhavesh/Desktop/Visual Studio/Unit4Project/CW-4/Project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Button,Flex,Grid,GridItem,Badge,Text}from'@chakra-ui/react';import axios from'axios';import{useEffect,useState,useRef}from'react';import{useParams}from'react-router-dom';import CartCard from'../Components/CartCard';import ModelPage from'../Components/Model';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var IMAGE='https://images.unsplash.com/photo-1518051870910-a46e30d9db16?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=1350&q=80';export default function CartPage(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),cart=_useState2[0],setCart=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),totalval=_useState4[0],setTotalValue=_useState4[1];var _useParams=useParams(),id=_useParams.id;var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),counter=_useState6[0],setCounter=_useState6[1];var image=cart.image,price=cart.price,title=cart.title,count=cart.count;var total=useRef(0);var handleCount=function handleCount(val){setCounter(counter+val);};// console.log('totalvalue', totalval);\nconsole.log('totalcurrent',total.current);var getCartData=function getCartData(){console.log('getCartData');axios.get(\"https://silly-boa-scarf.cyclic.app/cart\").then(function(_ref){var data=_ref.data;setCart(data);console.log('data length',data.length);// setTotal(data.length);\n});};useEffect(function(){getCartData();},[]);console.log(cart);var _removeproddefination=function removeproddefination(e){console.log('removeproddefination');var id=e.id;axios.delete(\"https://silly-boa-scarf.cyclic.app/cart/\".concat(id)).then(function(response){console.log('delete',response);getCartData();}).catch(function(error){console.log(error);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Grid,{templateColumns:\"repeat(3, 1fr)\",gap:6,children:cart&&(cart===null||cart===void 0?void 0:cart.length)>0&&cart.map(function(e){var ans=e.price.split(' ');var final=Number(ans[1].split(',').join(''));console.log('FINAL',final);total.current=total.current+final;console.log('total',total.current);// setTotalValue(total.current);\nreturn/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(GridItem,{children:/*#__PURE__*/_jsx(CartCard,{removeproddefination:function removeproddefination(){return _removeproddefination(e);},cartdata:e},e.id)},e.id)});})}),/*#__PURE__*/_jsx(ModelPage,{})]})// <Center py={12}>\n//   <Box\n//     role={'group'}\n//     p={6}\n//     maxW={'330px'}\n//     w={'full'}\n//     bg={useColorModeValue('white', 'gray.800')}\n//     boxShadow={'2xl'}\n//     rounded={'lg'}\n//     pos={'relative'}\n//     zIndex={1}>\n//     <Box\n//       rounded={'lg'}\n//       mt={-12}\n//       pos={'relative'}\n//       height={'230px'}\n//       _after={{\n//         transition: 'all .3s ease',\n//         content: '\"\"',\n//         w: 'full',\n//         h: 'full',\n//         pos: 'absolute',\n//         top: 5,\n//         left: 0,\n//         backgroundImage: `url(${IMAGE})`,\n//         filter: 'blur(15px)',\n//         zIndex: -1,\n//       }}\n//       _groupHover={{\n//         _after: {\n//           filter: 'blur(20px)',\n//         },\n//       }}>\n//       <Image\n//         rounded={'lg'}\n//         height={230}\n//         width={282}\n//         objectFit={'cover'}\n//         src={image}\n//       />\n//     </Box>\n//     <Stack pt={10} align={'center'}>\n//       <Text color={'gray.500'} fontSize={'sm'} textTransform={'uppercase'}>\n//         Brand\n//       </Text>\n//       <Heading fontSize={'2xl'} fontFamily={'body'} fontWeight={500}>\n//         Nice Chair, pink\n//       </Heading>\n//       <Flex>\n//         <Button disabled={counter <= 0} onClick={() => handleCount(-1)}>\n//           -\n//         </Button>\n//         <Text>Qty:{counter}</Text>\n//         <Button disabled={counter == count} onClick={() => handleCount(1)}>\n//           +\n//         </Button>\n//       </Flex>\n//       <Text>TotalPrice:{counter * price}</Text>\n//       <Stack direction={'row'} align={'center'}>\n//         <Text fontWeight={800} fontSize={'xl'}>\n//           {price}\n//         </Text>\n//         <Text textDecoration={'line-through'} color={'gray.600'}>\n//           {price}\n//         </Text>\n//       </Stack>\n//       <ModelPage />\n//     </Stack>\n//   </Box>\n// </Center>\n;}","map":{"version":3,"names":["Button","Flex","Grid","GridItem","Badge","Text","axios","useEffect","useState","useRef","useParams","CartCard","ModelPage","IMAGE","CartPage","cart","setCart","totalval","setTotalValue","id","counter","setCounter","image","price","title","count","total","handleCount","val","console","log","current","getCartData","get","then","data","length","removeproddefination","e","delete","response","catch","error","map","ans","split","final","Number","join"],"sources":["C:/Users/Bhavesh/Desktop/Visual Studio/Unit4Project/CW-4/Project/src/Pages/CartPage.jsx"],"sourcesContent":["import { Button, Flex, Grid, GridItem, Badge, Text } from '@chakra-ui/react';\r\nimport axios from 'axios';\r\nimport { useEffect, useState, useRef } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport CartCard from '../Components/CartCard';\r\nimport ModelPage from '../Components/Model';\r\n\r\nconst IMAGE =\r\n  'https://images.unsplash.com/photo-1518051870910-a46e30d9db16?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=1350&q=80';\r\n\r\nexport default function CartPage() {\r\n  const [cart, setCart] = useState({});\r\n  const [totalval, setTotalValue] = useState(0);\r\n  const { id } = useParams();\r\n  const [counter, setCounter] = useState(1);\r\n  const { image, price, title, count } = cart;\r\n  const total = useRef(0);\r\n\r\n  const handleCount = (val) => {\r\n    setCounter(counter + val);\r\n  };\r\n  // console.log('totalvalue', totalval);\r\n  console.log('totalcurrent', total.current);\r\n  const getCartData = () => {\r\n    console.log('getCartData');\r\n    axios.get(`https://silly-boa-scarf.cyclic.app/cart`).then(({ data }) => {\r\n      setCart(data);\r\n      console.log('data length', data.length);\r\n      // setTotal(data.length);\r\n    });\r\n  };\r\n  useEffect(() => {\r\n    getCartData();\r\n  }, []);\r\n\r\n  console.log(cart);\r\n  const removeproddefination = (e) => {\r\n    console.log('removeproddefination');\r\n    let id = e.id;\r\n\r\n    axios\r\n      .delete(`https://silly-boa-scarf.cyclic.app/cart/${id}`)\r\n      .then(function (response) {\r\n        console.log('delete', response);\r\n        getCartData();\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n  };\r\n  return (\r\n    <div>\r\n      {/* <Badge variant=\"solid\" colorScheme=\"green\">\r\n        {total.current}\r\n      </Badge> */}\r\n      <Grid templateColumns=\"repeat(3, 1fr)\" gap={6}>\r\n        {cart &&\r\n          cart?.length > 0 &&\r\n          cart.map((e) => {\r\n            let ans = e.price.split(' ');\r\n            let final = Number(ans[1].split(',').join(''));\r\n            console.log('FINAL', final);\r\n            total.current = total.current + final;\r\n            console.log('total', total.current);\r\n            // setTotalValue(total.current);\r\n            return (\r\n              <>\r\n                <GridItem key={e.id}>\r\n                  <CartCard\r\n                    key={e.id}\r\n                    removeproddefination={() => removeproddefination(e)}\r\n                    cartdata={e}\r\n                  />\r\n                </GridItem>\r\n              </>\r\n            );\r\n          })}\r\n      </Grid>\r\n      <ModelPage />\r\n    </div>\r\n    // <Center py={12}>\r\n    //   <Box\r\n    //     role={'group'}\r\n    //     p={6}\r\n    //     maxW={'330px'}\r\n    //     w={'full'}\r\n    //     bg={useColorModeValue('white', 'gray.800')}\r\n    //     boxShadow={'2xl'}\r\n    //     rounded={'lg'}\r\n    //     pos={'relative'}\r\n    //     zIndex={1}>\r\n    //     <Box\r\n    //       rounded={'lg'}\r\n    //       mt={-12}\r\n    //       pos={'relative'}\r\n    //       height={'230px'}\r\n    //       _after={{\r\n    //         transition: 'all .3s ease',\r\n    //         content: '\"\"',\r\n    //         w: 'full',\r\n    //         h: 'full',\r\n    //         pos: 'absolute',\r\n    //         top: 5,\r\n    //         left: 0,\r\n    //         backgroundImage: `url(${IMAGE})`,\r\n    //         filter: 'blur(15px)',\r\n    //         zIndex: -1,\r\n    //       }}\r\n    //       _groupHover={{\r\n    //         _after: {\r\n    //           filter: 'blur(20px)',\r\n    //         },\r\n    //       }}>\r\n    //       <Image\r\n    //         rounded={'lg'}\r\n    //         height={230}\r\n    //         width={282}\r\n    //         objectFit={'cover'}\r\n    //         src={image}\r\n    //       />\r\n    //     </Box>\r\n    //     <Stack pt={10} align={'center'}>\r\n    //       <Text color={'gray.500'} fontSize={'sm'} textTransform={'uppercase'}>\r\n    //         Brand\r\n    //       </Text>\r\n    //       <Heading fontSize={'2xl'} fontFamily={'body'} fontWeight={500}>\r\n    //         Nice Chair, pink\r\n    //       </Heading>\r\n    //       <Flex>\r\n    //         <Button disabled={counter <= 0} onClick={() => handleCount(-1)}>\r\n    //           -\r\n    //         </Button>\r\n    //         <Text>Qty:{counter}</Text>\r\n    //         <Button disabled={counter == count} onClick={() => handleCount(1)}>\r\n    //           +\r\n    //         </Button>\r\n    //       </Flex>\r\n    //       <Text>TotalPrice:{counter * price}</Text>\r\n    //       <Stack direction={'row'} align={'center'}>\r\n    //         <Text fontWeight={800} fontSize={'xl'}>\r\n    //           {price}\r\n    //         </Text>\r\n    //         <Text textDecoration={'line-through'} color={'gray.600'}>\r\n    //           {price}\r\n    //         </Text>\r\n    //       </Stack>\r\n    //       <ModelPage />\r\n    //     </Stack>\r\n    //   </Box>\r\n    // </Center>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}