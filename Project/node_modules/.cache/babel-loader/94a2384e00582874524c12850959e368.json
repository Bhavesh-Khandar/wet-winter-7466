{"ast":null,"code":"import _slicedToArray from \"C:/Users/Bhavesh/Desktop/Visual Studio/Unit4Project/CW-4/Project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"C:\\\\Users\\\\Bhavesh\\\\Desktop\\\\Visual Studio\\\\Unit4Project\\\\CW-4\\\\Project\\\\src\\\\Pages\\\\CartPage.jsx\",\n  _s = $RefreshSig$();\nimport { Button, Flex, Grid, GridItem } from '@chakra-ui/react';\nimport axios from 'axios';\nimport { useEffect, useState, useRef } from 'react';\nimport { useParams } from 'react-router-dom';\nimport CartCard from '../Components/CartCard';\nimport ModelPage from '../Components/Model';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar IMAGE = 'https://images.unsplash.com/photo-1518051870910-a46e30d9db16?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=1350&q=80';\nexport default function CartPage() {\n  _s();\n  var _this = this;\n  var _useState = useState({}),\n    _useState2 = _slicedToArray(_useState, 2),\n    cart = _useState2[0],\n    setCart = _useState2[1];\n  // const [total, setTotal] = useState(0);\n  var _useParams = useParams(),\n    id = _useParams.id;\n  var _useState3 = useState(1),\n    _useState4 = _slicedToArray(_useState3, 2),\n    counter = _useState4[0],\n    setCounter = _useState4[1];\n  var image = cart.image,\n    price = cart.price,\n    title = cart.title,\n    count = cart.count;\n  var total = useRef(0);\n  var handleCount = function handleCount(val) {\n    setCounter(counter + val);\n  };\n  console.log(total);\n  var getCartData = function getCartData() {\n    console.log('getCartData');\n    axios.get(\"http://localhost:3000/cart\").then(function (_ref) {\n      var data = _ref.data;\n      setCart(data);\n      console.log('data length', data.length);\n      // setTotal(data.length);\n    });\n  };\n\n  useEffect(function () {\n    getCartData();\n  }, []);\n  console.log(cart);\n  var _removeproddefination = function removeproddefination(e) {\n    console.log('removeproddefination');\n    var id = e.id;\n    axios.delete(\"http://localhost:3000/cart/\".concat(id)).then(function (response) {\n      console.log('delete', response);\n      getCartData();\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      templateColumns: \"repeat(3, 1fr)\",\n      gap: 6,\n      children: cart && (cart === null || cart === void 0 ? void 0 : cart.length) > 0 && cart.map(function (e) {\n        var ans = e.price.split(\" \");\n        ans = ans.split(\",\").join(\"\");\n        console.log(ans[1]);\n        total.current = total.current + e.price;\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(GridItem, {\n            children: /*#__PURE__*/_jsxDEV(CartCard, {\n              removeproddefination: function removeproddefination() {\n                return _removeproddefination(e);\n              },\n              cartdata: e\n            }, e.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 19\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 17\n          }, _this)\n        }, void 0, false);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ModelPage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this)\n  // <Center py={12}>\n  //   <Box\n  //     role={'group'}\n  //     p={6}\n  //     maxW={'330px'}\n  //     w={'full'}\n  //     bg={useColorModeValue('white', 'gray.800')}\n  //     boxShadow={'2xl'}\n  //     rounded={'lg'}\n  //     pos={'relative'}\n  //     zIndex={1}>\n  //     <Box\n  //       rounded={'lg'}\n  //       mt={-12}\n  //       pos={'relative'}\n  //       height={'230px'}\n  //       _after={{\n  //         transition: 'all .3s ease',\n  //         content: '\"\"',\n  //         w: 'full',\n  //         h: 'full',\n  //         pos: 'absolute',\n  //         top: 5,\n  //         left: 0,\n  //         backgroundImage: `url(${IMAGE})`,\n  //         filter: 'blur(15px)',\n  //         zIndex: -1,\n  //       }}\n  //       _groupHover={{\n  //         _after: {\n  //           filter: 'blur(20px)',\n  //         },\n  //       }}>\n  //       <Image\n  //         rounded={'lg'}\n  //         height={230}\n  //         width={282}\n  //         objectFit={'cover'}\n  //         src={image}\n  //       />\n  //     </Box>\n  //     <Stack pt={10} align={'center'}>\n  //       <Text color={'gray.500'} fontSize={'sm'} textTransform={'uppercase'}>\n  //         Brand\n  //       </Text>\n  //       <Heading fontSize={'2xl'} fontFamily={'body'} fontWeight={500}>\n  //         Nice Chair, pink\n  //       </Heading>\n  //       <Flex>\n  //         <Button disabled={counter <= 0} onClick={() => handleCount(-1)}>\n  //           -\n  //         </Button>\n  //         <Text>Qty:{counter}</Text>\n  //         <Button disabled={counter == count} onClick={() => handleCount(1)}>\n  //           +\n  //         </Button>\n  //       </Flex>\n  //       <Text>TotalPrice:{counter * price}</Text>\n  //       <Stack direction={'row'} align={'center'}>\n  //         <Text fontWeight={800} fontSize={'xl'}>\n  //           {price}\n  //         </Text>\n  //         <Text textDecoration={'line-through'} color={'gray.600'}>\n  //           {price}\n  //         </Text>\n  //       </Stack>\n  //       <ModelPage />\n  //     </Stack>\n  //   </Box>\n  // </Center>\n  ;\n}\n_s(CartPage, \"4JINuPf9OMQlZ2COB8TzfkEs3eA=\", false, function () {\n  return [useParams];\n});\n_c = CartPage;\nvar _c;\n$RefreshReg$(_c, \"CartPage\");","map":{"version":3,"names":["Button","Flex","Grid","GridItem","axios","useEffect","useState","useRef","useParams","CartCard","ModelPage","IMAGE","CartPage","cart","setCart","id","counter","setCounter","image","price","title","count","total","handleCount","val","console","log","getCartData","get","then","data","length","removeproddefination","e","delete","response","catch","error","map","ans","split","join","current"],"sources":["C:/Users/Bhavesh/Desktop/Visual Studio/Unit4Project/CW-4/Project/src/Pages/CartPage.jsx"],"sourcesContent":["import { Button, Flex, Grid, GridItem } from '@chakra-ui/react';\r\nimport axios from 'axios';\r\nimport { useEffect, useState, useRef } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport CartCard from '../Components/CartCard';\r\nimport ModelPage from '../Components/Model';\r\n\r\nconst IMAGE =\r\n  'https://images.unsplash.com/photo-1518051870910-a46e30d9db16?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=1350&q=80';\r\n\r\nexport default function CartPage() {\r\n  const [cart, setCart] = useState({});\r\n  // const [total, setTotal] = useState(0);\r\n  const { id } = useParams();\r\n  const [counter, setCounter] = useState(1);\r\n  const { image, price, title, count } = cart;\r\n  const total = useRef(0);\r\n\r\n  const handleCount = (val) => {\r\n    setCounter(counter + val);\r\n  };\r\n  console.log(total);\r\n  const getCartData = () => {\r\n    console.log('getCartData');\r\n    axios.get(`http://localhost:3000/cart`).then(({ data }) => {\r\n      setCart(data);\r\n      console.log('data length', data.length);\r\n      // setTotal(data.length);\r\n    });\r\n  };\r\n  useEffect(() => {\r\n    getCartData();\r\n  }, []);\r\n\r\n  console.log(cart);\r\n  const removeproddefination = (e) => {\r\n    console.log('removeproddefination');\r\n    let id = e.id;\r\n\r\n    axios\r\n      .delete(`http://localhost:3000/cart/${id}`)\r\n      .then(function (response) {\r\n        console.log('delete', response);\r\n        getCartData();\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n  };\r\n  return (\r\n    <div>\r\n      <Grid templateColumns=\"repeat(3, 1fr)\" gap={6}>\r\n        {cart &&\r\n          cart?.length > 0 &&\r\n          cart.map((e) =>\r\n          {\r\n            let ans = e.price.split(\" \");\r\n            ans=ans.split(\",\").join(\"\");\r\n            console.log(ans[1])\r\n            total.current = total.current + e.price;\r\n            return (\r\n              <>\r\n                <GridItem>\r\n                 \r\n                  <CartCard\r\n                    key={e.id}\r\n                    removeproddefination={() => removeproddefination(e)}\r\n                    cartdata={e}\r\n                  />\r\n                </GridItem>\r\n              </>\r\n            );\r\n          })}\r\n      </Grid>\r\n      <ModelPage />\r\n    </div>\r\n    // <Center py={12}>\r\n    //   <Box\r\n    //     role={'group'}\r\n    //     p={6}\r\n    //     maxW={'330px'}\r\n    //     w={'full'}\r\n    //     bg={useColorModeValue('white', 'gray.800')}\r\n    //     boxShadow={'2xl'}\r\n    //     rounded={'lg'}\r\n    //     pos={'relative'}\r\n    //     zIndex={1}>\r\n    //     <Box\r\n    //       rounded={'lg'}\r\n    //       mt={-12}\r\n    //       pos={'relative'}\r\n    //       height={'230px'}\r\n    //       _after={{\r\n    //         transition: 'all .3s ease',\r\n    //         content: '\"\"',\r\n    //         w: 'full',\r\n    //         h: 'full',\r\n    //         pos: 'absolute',\r\n    //         top: 5,\r\n    //         left: 0,\r\n    //         backgroundImage: `url(${IMAGE})`,\r\n    //         filter: 'blur(15px)',\r\n    //         zIndex: -1,\r\n    //       }}\r\n    //       _groupHover={{\r\n    //         _after: {\r\n    //           filter: 'blur(20px)',\r\n    //         },\r\n    //       }}>\r\n    //       <Image\r\n    //         rounded={'lg'}\r\n    //         height={230}\r\n    //         width={282}\r\n    //         objectFit={'cover'}\r\n    //         src={image}\r\n    //       />\r\n    //     </Box>\r\n    //     <Stack pt={10} align={'center'}>\r\n    //       <Text color={'gray.500'} fontSize={'sm'} textTransform={'uppercase'}>\r\n    //         Brand\r\n    //       </Text>\r\n    //       <Heading fontSize={'2xl'} fontFamily={'body'} fontWeight={500}>\r\n    //         Nice Chair, pink\r\n    //       </Heading>\r\n    //       <Flex>\r\n    //         <Button disabled={counter <= 0} onClick={() => handleCount(-1)}>\r\n    //           -\r\n    //         </Button>\r\n    //         <Text>Qty:{counter}</Text>\r\n    //         <Button disabled={counter == count} onClick={() => handleCount(1)}>\r\n    //           +\r\n    //         </Button>\r\n    //       </Flex>\r\n    //       <Text>TotalPrice:{counter * price}</Text>\r\n    //       <Stack direction={'row'} align={'center'}>\r\n    //         <Text fontWeight={800} fontSize={'xl'}>\r\n    //           {price}\r\n    //         </Text>\r\n    //         <Text textDecoration={'line-through'} color={'gray.600'}>\r\n    //           {price}\r\n    //         </Text>\r\n    //       </Stack>\r\n    //       <ModelPage />\r\n    //     </Stack>\r\n    //   </Box>\r\n    // </Center>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}