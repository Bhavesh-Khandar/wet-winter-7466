{"ast":null,"code":"import _defineProperty from\"C:/Users/Bhavesh/Desktop/Visual Studio/Unit4Project/CW-4/Project/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Bhavesh/Desktop/Visual Studio/Unit4Project/CW-4/Project/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Bhavesh/Desktop/Visual Studio/Unit4Project/CW-4/Project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Flex,Box,FormControl,FormLabel,Input,Checkbox,Stack,Link,Button,Heading,Text,useColorModeValue}from'@chakra-ui/react';import axios from'axios';import{useEffect,useState}from'react';import{Navigate}from'react-router-dom';import{Alert,AlertIcon,AlertTitle,AlertDescription}from'@chakra-ui/react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),login=_useState6[0],isLogin=_useState6[1];var handleOnChange=function handleOnChange(e){setForm(_objectSpread(_objectSpread({},form),{},_defineProperty({},e.target.id,e.target.value)));console.log(form);};useEffect(function(){axios.get(\"http://localhost:3000/register\").then(function(res){console.log(res.data);setData(res.data);}).then(function(response){console.log(response);}).catch(function(error){console.log(error);});},[]);function signIn(){{data&&(data===null||data===void 0?void 0:data.length)>0&&data.filter(function(e){if(e.email==form.email&&e.password==form.password){// return <Navigate to=\"/products\" />;\nisLogin(true);return/*#__PURE__*/_jsxs(Alert,{status:\"success\",children:[/*#__PURE__*/_jsx(AlertIcon,{}),\"Data uploaded to the server. Fire on!\"]});}else{console.log('failure');return/*#__PURE__*/_jsxs(Alert,{status:\"error\",children:[/*#__PURE__*/_jsx(AlertIcon,{}),\"There was an error processing your request\"]});}});}}console.log(data);return login?/*#__PURE__*/_jsx(Navigate,{to:\"/products\"}):/*#__PURE__*/_jsx(Flex,{minH:'100vh',align:'center',justify:'center',bg:useColorModeValue('gray.50','gray.800'),children:/*#__PURE__*/_jsxs(Stack,{spacing:8,mx:'auto',maxW:'lg',py:12,px:6,children:[/*#__PURE__*/_jsx(Stack,{align:'center',children:/*#__PURE__*/_jsx(Heading,{fontSize:'4xl',children:\"Sign in to your account\"})}),/*#__PURE__*/_jsx(Box,{rounded:'lg',bg:useColorModeValue('white','gray.700'),boxShadow:'lg',p:8,children:/*#__PURE__*/_jsxs(Stack,{spacing:4,children:[/*#__PURE__*/_jsxs(FormControl,{id:\"email\",children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Email address\"}),/*#__PURE__*/_jsx(Input,{onChange:function onChange(e){return handleOnChange(e);},type:\"email\"})]}),/*#__PURE__*/_jsxs(FormControl,{id:\"password\",children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Password\"}),/*#__PURE__*/_jsx(Input,{onChange:function onChange(e){return handleOnChange(e);},type:\"password\"})]}),/*#__PURE__*/_jsxs(Stack,{spacing:10,children:[/*#__PURE__*/_jsxs(Stack,{direction:{base:'column',sm:'row'},align:'start',justify:'space-between',children:[/*#__PURE__*/_jsx(Checkbox,{children:\"Remember me\"}),/*#__PURE__*/_jsx(Link,{color:'blue.400',children:\"Forgot password?\"})]}),/*#__PURE__*/_jsx(Button,{bg:'blue.400',onClick:signIn,color:'white',_hover:{bg:'blue.500'},children:\"Sign in\"})]})]})})]})});}","map":{"version":3,"names":["Flex","Box","FormControl","FormLabel","Input","Checkbox","Stack","Link","Button","Heading","Text","useColorModeValue","axios","useEffect","useState","Navigate","Alert","AlertIcon","AlertTitle","AlertDescription","Login","form","setForm","data","setData","login","isLogin","handleOnChange","e","target","id","value","console","log","get","then","res","response","catch","error","signIn","length","filter","email","password","base","sm","bg"],"sources":["C:/Users/Bhavesh/Desktop/Visual Studio/Unit4Project/CW-4/Project/src/Pages/LoginPage.jsx"],"sourcesContent":["import {\r\n  Flex,\r\n  Box,\r\n  FormControl,\r\n  FormLabel,\r\n  Input,\r\n  Checkbox,\r\n  Stack,\r\n  Link,\r\n  Button,\r\n  Heading,\r\n  Text,\r\n  useColorModeValue,\r\n} from '@chakra-ui/react';\r\nimport axios from 'axios';\r\nimport { useEffect, useState } from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\nimport {\r\n  Alert,\r\n  AlertIcon,\r\n  AlertTitle,\r\n  AlertDescription,\r\n} from '@chakra-ui/react';\r\nexport default function Login() {\r\n  const [form, setForm] = useState({});\r\n  const [data, setData] = useState([]);\r\n  const [login, isLogin] = useState(false);\r\n  const handleOnChange = (e) => {\r\n    setForm({ ...form, [e.target.id]: e.target.value });\r\n    console.log(form);\r\n  };\r\n  useEffect(() => {\r\n    axios\r\n      .get(`http://localhost:3000/register`)\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        setData(res.data);\r\n      })\r\n      .then(function (response) {\r\n        console.log(response);\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n  }, []);\r\n\r\n  function signIn() {\r\n    {\r\n      data &&\r\n        data?.length > 0 &&\r\n        data.filter((e) => {\r\n          if (e.email == form.email && e.password == form.password) {\r\n            // return <Navigate to=\"/products\" />;\r\n            isLogin(true);\r\n            return (\r\n              <Alert status=\"success\">\r\n                <AlertIcon />\r\n                Data uploaded to the server. Fire on!\r\n              </Alert>\r\n            );\r\n          } else {\r\n            console.log('failure');\r\n            return (\r\n              <Alert status=\"error\">\r\n                <AlertIcon />\r\n                There was an error processing your request\r\n              </Alert>\r\n            );\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  console.log(data);\r\n  return login ? (\r\n    <Navigate to=\"/products\" />\r\n  ) : (\r\n    <Flex\r\n      minH={'100vh'}\r\n      align={'center'}\r\n      justify={'center'}\r\n      bg={useColorModeValue('gray.50', 'gray.800')}>\r\n      <Stack spacing={8} mx={'auto'} maxW={'lg'} py={12} px={6}>\r\n        <Stack align={'center'}>\r\n          <Heading fontSize={'4xl'}>Sign in to your account</Heading>\r\n        </Stack>\r\n        <Box\r\n          rounded={'lg'}\r\n          bg={useColorModeValue('white', 'gray.700')}\r\n          boxShadow={'lg'}\r\n          p={8}>\r\n          <Stack spacing={4}>\r\n            <FormControl id=\"email\">\r\n              <FormLabel>Email address</FormLabel>\r\n              <Input onChange={(e) => handleOnChange(e)} type=\"email\" />\r\n            </FormControl>\r\n            <FormControl id=\"password\">\r\n              <FormLabel>Password</FormLabel>\r\n              <Input onChange={(e) => handleOnChange(e)} type=\"password\" />\r\n            </FormControl>\r\n            <Stack spacing={10}>\r\n              <Stack\r\n                direction={{ base: 'column', sm: 'row' }}\r\n                align={'start'}\r\n                justify={'space-between'}>\r\n                <Checkbox>Remember me</Checkbox>\r\n                <Link color={'blue.400'}>Forgot password?</Link>\r\n              </Stack>\r\n              <Button\r\n                bg={'blue.400'}\r\n                onClick={signIn}\r\n                color={'white'}\r\n                _hover={{\r\n                  bg: 'blue.500',\r\n                }}>\r\n                Sign in\r\n              </Button>\r\n            </Stack>\r\n          </Stack>\r\n        </Box>\r\n      </Stack>\r\n    </Flex>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}