{"ast":null,"code":"// src/index.ts\nimport { getActiveElement, getAllFocusable, isTabbable } from \"@chakra-ui/dom-utils\";\nimport { useEventListener } from \"@chakra-ui/react-use-event-listener\";\nimport { useSafeLayoutEffect } from \"@chakra-ui/react-use-safe-layout-effect\";\nimport { useUpdateEffect } from \"@chakra-ui/react-use-update-effect\";\nimport { useCallback, useRef } from \"react\";\nfunction preventReturnFocus(containerRef) {\n  var el = containerRef.current;\n  if (!el) return false;\n  var activeElement = getActiveElement(el);\n  if (!activeElement) return false;\n  if (el.contains(activeElement)) return false;\n  if (isTabbable(activeElement)) return true;\n  return false;\n}\nfunction useFocusOnHide(containerRef, options) {\n  var shouldFocusProp = options.shouldFocus,\n    visible = options.visible,\n    focusRef = options.focusRef;\n  var shouldFocus = shouldFocusProp && !visible;\n  useUpdateEffect(function () {\n    if (!shouldFocus) return;\n    if (preventReturnFocus(containerRef)) {\n      return;\n    }\n    var el = (focusRef == null ? void 0 : focusRef.current) || containerRef.current;\n    if (el) {\n      requestAnimationFrame(function () {\n        el.focus();\n      });\n    }\n  }, [shouldFocus, containerRef, focusRef]);\n}\nvar defaultOptions = {\n  preventScroll: true,\n  shouldFocus: false\n};\nfunction useFocusOnShow(target) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultOptions;\n  var focusRef = options.focusRef,\n    preventScroll = options.preventScroll,\n    shouldFocus = options.shouldFocus,\n    visible = options.visible;\n  var element = isRefObject(target) ? target.current : target;\n  var autoFocusValue = shouldFocus && visible;\n  var autoFocusRef = useRef(autoFocusValue);\n  var lastVisibleRef = useRef(visible);\n  useSafeLayoutEffect(function () {\n    if (!lastVisibleRef.current && visible) {\n      autoFocusRef.current = autoFocusValue;\n    }\n    lastVisibleRef.current = visible;\n  }, [visible, autoFocusValue]);\n  var onFocus = useCallback(function () {\n    if (!visible || !element || !autoFocusRef.current) return;\n    autoFocusRef.current = false;\n    if (element.contains(document.activeElement)) return;\n    if (focusRef == null ? void 0 : focusRef.current) {\n      requestAnimationFrame(function () {\n        var _a;\n        (_a = focusRef.current) == null ? void 0 : _a.focus({\n          preventScroll: preventScroll\n        });\n      });\n    } else {\n      var tabbableEls = getAllFocusable(element);\n      if (tabbableEls.length > 0) {\n        requestAnimationFrame(function () {\n          tabbableEls[0].focus({\n            preventScroll: preventScroll\n          });\n        });\n      }\n    }\n  }, [visible, preventScroll, element, focusRef]);\n  useUpdateEffect(function () {\n    onFocus();\n  }, [onFocus]);\n  useEventListener(element, \"transitionend\", onFocus);\n}\nfunction isRefObject(val) {\n  return \"current\" in val;\n}\nexport { useFocusOnHide, useFocusOnShow };","map":{"version":3,"names":["getActiveElement","getAllFocusable","isTabbable","useEventListener","useSafeLayoutEffect","useUpdateEffect","useCallback","useRef","preventReturnFocus","containerRef","el","current","activeElement","contains","useFocusOnHide","options","shouldFocusProp","shouldFocus","visible","focusRef","requestAnimationFrame","focus","defaultOptions","preventScroll","useFocusOnShow","target","element","isRefObject","autoFocusValue","autoFocusRef","lastVisibleRef","onFocus","document","_a","tabbableEls","length","val"],"sources":["C:/Users/Bhavesh/Desktop/Visual Studio/Unit4Project/CW-4/Project/node_modules/@chakra-ui/react-use-focus-effect/dist/index.esm.js"],"sourcesContent":["// src/index.ts\r\nimport {\r\n  getActiveElement,\r\n  getAllFocusable,\r\n  isTabbable\r\n} from \"@chakra-ui/dom-utils\";\r\nimport { useEventListener } from \"@chakra-ui/react-use-event-listener\";\r\nimport { useSafeLayoutEffect } from \"@chakra-ui/react-use-safe-layout-effect\";\r\nimport { useUpdateEffect } from \"@chakra-ui/react-use-update-effect\";\r\nimport { useCallback, useRef } from \"react\";\r\nfunction preventReturnFocus(containerRef) {\r\n  const el = containerRef.current;\r\n  if (!el)\r\n    return false;\r\n  const activeElement = getActiveElement(el);\r\n  if (!activeElement)\r\n    return false;\r\n  if (el.contains(activeElement))\r\n    return false;\r\n  if (isTabbable(activeElement))\r\n    return true;\r\n  return false;\r\n}\r\nfunction useFocusOnHide(containerRef, options) {\r\n  const { shouldFocus: shouldFocusProp, visible, focusRef } = options;\r\n  const shouldFocus = shouldFocusProp && !visible;\r\n  useUpdateEffect(() => {\r\n    if (!shouldFocus)\r\n      return;\r\n    if (preventReturnFocus(containerRef)) {\r\n      return;\r\n    }\r\n    const el = (focusRef == null ? void 0 : focusRef.current) || containerRef.current;\r\n    if (el) {\r\n      requestAnimationFrame(() => {\r\n        el.focus();\r\n      });\r\n    }\r\n  }, [shouldFocus, containerRef, focusRef]);\r\n}\r\nvar defaultOptions = {\r\n  preventScroll: true,\r\n  shouldFocus: false\r\n};\r\nfunction useFocusOnShow(target, options = defaultOptions) {\r\n  const { focusRef, preventScroll, shouldFocus, visible } = options;\r\n  const element = isRefObject(target) ? target.current : target;\r\n  const autoFocusValue = shouldFocus && visible;\r\n  const autoFocusRef = useRef(autoFocusValue);\r\n  const lastVisibleRef = useRef(visible);\r\n  useSafeLayoutEffect(() => {\r\n    if (!lastVisibleRef.current && visible) {\r\n      autoFocusRef.current = autoFocusValue;\r\n    }\r\n    lastVisibleRef.current = visible;\r\n  }, [visible, autoFocusValue]);\r\n  const onFocus = useCallback(() => {\r\n    if (!visible || !element || !autoFocusRef.current)\r\n      return;\r\n    autoFocusRef.current = false;\r\n    if (element.contains(document.activeElement))\r\n      return;\r\n    if (focusRef == null ? void 0 : focusRef.current) {\r\n      requestAnimationFrame(() => {\r\n        var _a;\r\n        (_a = focusRef.current) == null ? void 0 : _a.focus({ preventScroll });\r\n      });\r\n    } else {\r\n      const tabbableEls = getAllFocusable(element);\r\n      if (tabbableEls.length > 0) {\r\n        requestAnimationFrame(() => {\r\n          tabbableEls[0].focus({ preventScroll });\r\n        });\r\n      }\r\n    }\r\n  }, [visible, preventScroll, element, focusRef]);\r\n  useUpdateEffect(() => {\r\n    onFocus();\r\n  }, [onFocus]);\r\n  useEventListener(element, \"transitionend\", onFocus);\r\n}\r\nfunction isRefObject(val) {\r\n  return \"current\" in val;\r\n}\r\nexport {\r\n  useFocusOnHide,\r\n  useFocusOnShow\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}